# 日志系统

## 双重输出机制

### 控制台输出（简洁模式）

- 只显示消息内容，不显示时间戳
- INFO级别：直接显示消息
- WARNING/ERROR级别：显示 `[WARNING]` 或 `[ERROR]` 前缀
- 适合实时监控进度

**示例**：
```
验证配置...
✓ 配置验证通过
数据库初始化成功: D:\Product\data_summary\data\database\analysis.db
初始化模块...
已加载 315 个已验证的ASIN
模块初始化完成
```

### 文件输出（详细模式）

- 包含完整的时间戳、日志级别、文件名、行号
- 格式：`2026-01-22 11:55:19,397 - data_summary - INFO - orchestrator.py:120 - 消息内容`
- 保存在 `logs/` 目录，按日期命名（如 `data_summary_20260122.log`）
- 支持日志轮转（单文件最大10MB，保留5个备份）

**示例**：
```
2026-01-22 11:55:15,882 - data_summary - INFO - main.py:118 - 验证配置...
2026-01-22 11:55:15,882 - data_summary - INFO - main.py:120 - ✓ 配置验证通过
2026-01-22 11:55:15,884 - data_summary - INFO - orchestrator.py:73 - 数据库初始化成功
```

## 结构化日志输出

每个步骤都采用统一的格式：

```
============================================================
步骤X: 步骤名称
============================================================
  - 参数1: 值1
  - 参数2: 值2
------------------------------------------------------------
处理进度...
------------------------------------------------------------
✓ 步骤完成
```

## 日志配置

```python
from src.utils.logger import setup_logger

# 获取logger实例
logger = setup_logger(__name__)

# 使用日志
logger.info("信息消息")
logger.warning("警告消息")
logger.error("错误消息")
```

## 日志文件位置

```
logs/
├── data_summary_20260122.log      # 当天日志
├── data_summary_20260121.log      # 历史日志
└── ...
```

## 日志级别

| 级别 | 用途 |
|------|------|
| DEBUG | 调试信息，仅在开发时使用 |
| INFO | 正常运行信息 |
| WARNING | 警告信息，不影响运行 |
| ERROR | 错误信息，可能影响结果 |
| CRITICAL | 严重错误，程序无法继续 |
